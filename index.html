<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Diagrama de Gantt â€” Plan de Proyecto</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&amp;family=DM+Sans:wght@300;400;500;600&amp;display=swap" rel="stylesheet"/>
<style>
  :root {
    --bg: #f2f3f5;
    --card: #ffffff;
    --navy: #002060;
    --teal-tag: #12CBD4;
    --slate: #4a5568;
    --dim: #718096;
    --border: rgba(0,0,0,0.07);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    font-family: 'DM Sans', sans-serif;
    color: #1a202c;
    min-height: 100vh;
    padding: 32px 40px 60px;
  }

  .page { max-width: 1320px; margin: 0 auto; }

  /* â”€â”€â”€ HEADER â”€â”€â”€ */
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 18px;
    padding-bottom: 14px;
    border-bottom: 1px solid rgba(0,32,96,0.15);
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: 18px;
    flex-wrap: wrap;
  }

  .label-tag {
    display: inline-block;
    font-size: 11.5px;
    font-weight: 700;
    line-height: 1.6;
    color: #fff;
    padding: 8px 16px;
    border-radius: 5px;
    background: var(--teal-tag);
    box-shadow: 0 2px 10px rgba(18,203,212,0.3);
    flex-shrink: 0;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: 24px;
    font-weight: 400;
    color: #1a202c;
    line-height: 1.2;
  }

  .header-right { text-align: right; }
  .date-range {
    font-family: 'Playfair Display', serif;
    font-size: 17px;
    color: var(--navy);
    margin-bottom: 3px;
  }
  .meta { font-size: 11px; color: var(--dim); }

  /* â”€â”€â”€ KPI BAR â”€â”€â”€ */
  .kpi-bar {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
    margin-bottom: 16px;
  }

  .kpi {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px 18px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 1px 5px rgba(0,0,0,0.05);
  }

  .kpi::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: var(--navy);
  }

  .kpi-label { font-size: 10px; color: var(--dim); letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 6px; }
  .kpi-value { font-family: 'Playfair Display', serif; font-size: 24px; color: #1a202c; line-height: 1; }
  .kpi-sub { font-size: 11px; color: var(--slate); margin-top: 3px; }

  /* â”€â”€â”€ ADMIN BAR â”€â”€â”€ */
  .admin-bar {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 10px;
    margin-bottom: 10px;
  }

  .admin-status {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.06em;
    padding: 5px 12px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .admin-status.locked { background: rgba(0,0,0,0.06); color: var(--dim); }
  .admin-status.unlocked { background: rgba(26,140,132,0.12); color: #1a8c84; border: 1px solid rgba(26,140,132,0.3); }

  .admin-btn {
    font-family: 'DM Sans', sans-serif;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.06em;
    padding: 6px 16px;
    border-radius: 5px;
    border: 1.5px solid var(--navy);
    background: var(--navy);
    color: #fff;
    cursor: pointer;
    transition: opacity 0.2s;
  }

  .admin-btn:hover { opacity: 0.85; }
  .admin-btn.logout { background: #fff; color: var(--navy); }

  /* â”€â”€â”€ GANTT WRAPPER â”€â”€â”€ */
  .gantt-wrapper {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 26px;
    box-shadow: 0 2px 14px rgba(0,0,0,0.06);
  }

  .gantt-col-header {
    display: grid;
    grid-template-columns: 240px 72px 72px 1fr;
    padding: 0 20px;
    gap: 10px;
    background: var(--navy);
  }

  .gh-label {
    font-size: 10.5px;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #fff;
    padding: 12px 0;
  }

  .month-blocks { display: flex; }

  .month-block {
    flex: 1;
    text-align: center;
    font-size: 10.5px;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #fff;
    padding: 12px 0;
    border-left: 1px solid rgba(255,255,255,0.12);
  }

  .phase-row {
    padding: 5px 20px 4px;
    border-bottom: 1px solid var(--border);
  }

  .phase-title {
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--navy);
    opacity: 0.7;
  }

  .gantt-row {
    display: grid;
    grid-template-columns: 240px 72px 72px 1fr;
    align-items: center;
    padding: 0 20px;
    gap: 10px;
    min-height: 40px;
    border-bottom: 1px solid rgba(0,0,0,0.045);
    transition: background 0.18s;
  }

  .gantt-row:last-child { border-bottom: none; }
  .gantt-row:hover { background: rgba(0,32,96,0.02); }

  .task-name { font-size: 12px; font-weight: 500; color: #1a202c; line-height: 1.2; }
  .task-desc { font-size: 10px; color: var(--dim); margin-top: 1px; line-height: 1.2; }
  .task-date { font-size: 11px; color: var(--slate); }

  /* â”€â”€â”€ BAR AREA â”€â”€â”€ */
  .bar-area {
    position: relative;
    height: 40px;
    display: flex;
    align-items: center;
  }

  .grid-lines {
    position: absolute;
    inset: 0;
    display: flex;
    pointer-events: none;
  }

  .grid-line { flex: 1; border-left: 1px solid rgba(0,0,0,0.055); }

  /* Grey outer track */
  .bar-outer {
    position: absolute;
    height: 28px;
    border-radius: 6px;
    background: #dde3ec;
    overflow: hidden;
    cursor: default;
    transition: box-shadow 0.2s, transform 0.15s;
  }

  .bar-outer.admin-mode {
    cursor: pointer;
  }

  .bar-outer.admin-mode:hover {
    box-shadow: 0 0 0 2px var(--navy), 0 3px 10px rgba(0,0,0,0.12);
    transform: scaleY(1.06);
  }

  /* Coloured inner progress fill */
  .bar-inner {
    position: absolute;
    left: 0; top: 0; bottom: 0;
    border-radius: 6px;
    width: 0%;
    transition: width 0.55s cubic-bezier(0.16,1,0.3,1);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    min-width: 0;
    overflow: hidden;
  }

  .bar-pct-label {
    font-size: 10px;
    font-weight: 700;
    color: rgba(255,255,255,0.95);
    padding-right: 7px;
    white-space: nowrap;
    letter-spacing: 0.02em;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
  }

  /* Milestone diamond */
  .bar-milestone {
    position: absolute;
    width: 12px;
    height: 12px;
    transform: rotate(45deg);
    border-radius: 2px;
    z-index: 3;
  }

  /* â”€â”€â”€ MODALS â”€â”€â”€ */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    z-index: 200;
    display: none;
    align-items: center;
    justify-content: center;
  }

  .modal-overlay.show { display: flex; }

  .modal {
    background: #fff;
    border-radius: 12px;
    padding: 30px 26px 22px;
    width: 340px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.2);
    animation: modalIn 0.22s ease;
  }

  @keyframes modalIn {
    from { transform: translateY(-18px) scale(0.96); opacity: 0; }
    to   { transform: translateY(0) scale(1); opacity: 1; }
  }

  .modal h3 {
    font-family: 'Playfair Display', serif;
    font-size: 19px;
    color: var(--navy);
    margin-bottom: 5px;
  }

  .modal p { font-size: 12px; color: var(--dim); margin-bottom: 16px; }

  .modal input[type=password],
  .modal input[type=number] {
    width: 100%;
    padding: 10px 14px;
    border: 1.5px solid #d1d9e6;
    border-radius: 7px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: #1a202c;
    outline: none;
    margin-bottom: 10px;
    transition: border-color 0.2s;
  }

  .modal input:focus { border-color: var(--navy); }

  .modal-error { font-size: 11px; color: #e53e3e; margin-bottom: 8px; min-height: 15px; }

  .modal-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    margin-top: 4px;
  }

  .btn-cancel {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    font-weight: 600;
    padding: 8px 18px;
    border: 1.5px solid #d1d9e6;
    border-radius: 6px;
    background: #fff;
    color: var(--slate);
    cursor: pointer;
  }

  .btn-confirm {
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    font-weight: 600;
    padding: 8px 18px;
    border: none;
    border-radius: 6px;
    background: var(--navy);
    color: #fff;
    cursor: pointer;
    transition: opacity 0.2s;
  }

  .btn-confirm:hover { opacity: 0.85; }

  .pct-display {
    font-family: 'Playfair Display', serif;
    font-size: 44px;
    color: var(--navy);
    text-align: center;
    line-height: 1;
    margin-bottom: 8px;
  }

  .modal input[type=range] {
    width: 100%;
    margin-bottom: 10px;
    accent-color: var(--navy);
    cursor: pointer;
  }

  /* â”€â”€â”€ LEGEND â”€â”€â”€ */
  .legend {
    display: flex;
    gap: 22px;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 28px;
  }

  .legend-title { font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--dim); }
  .legend-item { display: flex; align-items: center; gap: 7px; font-size: 11px; color: var(--slate); }
  .legend-dot { width: 12px; height: 12px; border-radius: 2px; flex-shrink: 0; }
  .legend-diamond { width: 9px; height: 9px; transform: rotate(45deg); border-radius: 1px; flex-shrink: 0; }

  /* â”€â”€â”€ TABLE â”€â”€â”€ */
  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 400;
    color: #1a202c;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .section-title::after { content:''; flex:1; height:1px; background:rgba(0,0,0,0.08); }

  .milestones-table { width: 100%; border-collapse: collapse; }

  .milestones-table th {
    font-size: 10.5px;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #fff;
    text-align: left;
    padding: 12px 14px;
    background: var(--navy);
  }

  .milestones-table td {
    padding: 11px 14px;
    font-size: 12.5px;
    border-bottom: 1px solid rgba(0,0,0,0.05);
    color: var(--slate);
    vertical-align: middle;
  }

  .milestones-table tr:hover td { background: rgba(0,0,0,0.015); }
  .td-hito { font-weight: 600; color: #1a202c !important; }
  .td-fecha { font-size: 11.5px; color: #002060 !important; white-space: nowrap; font-weight: 600; }

  .badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }

  .badge-cierre    { background:rgba(26,140,132,0.1); color:#1a8c84; border:1px solid rgba(26,140,132,0.3); }
  .badge-inicio    { background:rgba(0,32,96,0.1); color:#002060; border:1px solid rgba(0,32,96,0.25); }
  .badge-validacion{ background:rgba(59,108,183,0.1); color:#3b6cb7; border:1px solid rgba(59,108,183,0.28); }
  .badge-entrega   { background:rgba(180,80,30,0.1); color:#b4501e; border:1px solid rgba(180,80,30,0.28); }

  footer {
    margin-top: 38px;
    padding-top: 14px;
    border-top: 1px solid rgba(0,0,0,0.07);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer-note { font-size: 10.5px; color: var(--dim); }
  .confidential {
    font-size: 10px; font-weight: 700; letter-spacing: 0.14em; text-transform: uppercase;
    color: var(--dim); border: 1px solid rgba(0,0,0,0.1); padding: 4px 12px; border-radius: 2px;
  }

  @keyframes fadeUp {
    from { opacity:0; transform:translateY(12px); }
    to   { opacity:1; transform:translateY(0); }
  }

  .page > * { animation: fadeUp 0.4s ease both; }
  header { animation-delay:0s; }
  .kpi-bar { animation-delay:0.07s; }
  .admin-bar { animation-delay:0.1s; }
  .gantt-wrapper { animation-delay:0.14s; }
  .legend { animation-delay:0.2s; }


@media print {
  body { background: #fff; padding: 0; }
  .admin-bar, .modal-overlay, .toast { display: none !important; }
  .page { max-width: 100%; margin: 0; }
  header { border: none; margin-bottom: 8px; }
  .gantt-wrapper { box-shadow: none; border: 1px solid #aaa; }
  .legend { break-inside: avoid; }
  footer { border: none; }
  /* Page footer for print */
  @page { margin: 14mm; }
}
</style>
<meta content="Diagrama de Gantt ejecutivo con hitos y fases para la implementaciÃ³n de una aplicaciÃ³n de control de gastos POS y PDV." name="description"/>
<meta content="#002060" name="theme-color"/>
<link href="data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'&gt;&lt;rect width='100' height='100' fill='%23002060'/&gt;&lt;text x='50' y='58' font-size='58' text-anchor='middle' fill='white'&gt;G&lt;/text&gt;&lt;/svg&gt;" rel="icon"/>
<script>
// Storage polyfill: provides window.storage.get/set using localStorage
(function(){
  if (!window.storage) {
    window.storage = {
      async get(key){
        try { const v = localStorage.getItem(key); return v ? { value: v } : null; } catch(e){ return null; }
      },
      async set(key, value){
        try { localStorage.setItem(key, value); return true; } catch(e){ throw e; }
      }
    };
  }
})();
</script>
</head>
<body>
<div class="page">
<!-- HEADER -->
<header>
<div class="header-left">
<div class="label-tag">DIRECCIÃ“N FINANCIERA<br/>NEGOCIACIONES ADICIONALES (POS â€“ PDV)</div>
<h1>Fechas Claves â€” Plan de ImplementaciÃ³n del Proyecto</h1>
</div>
<div class="header-right">
<div class="date-range">19 Feb â€” 19 Abr 2026</div>
<p class="meta">DuraciÃ³n total: 59 dÃ­as</p>
<p class="meta" style="margin-top:3px;">Actualizado: 20 Feb 2026</p>
</div>
</header>
<!-- KPIs -->
<div class="kpi-bar">
<div class="kpi">
<div class="kpi-label">DuraciÃ³n Total</div>
<div class="kpi-value">59</div>
<div class="kpi-sub">dÃ­as calendario</div>
</div>
<div class="kpi">
<div class="kpi-label">Fases</div>
<div class="kpi-value">4</div>
<div class="kpi-sub">fases de ejecuciÃ³n</div>
</div>
<div class="kpi">
<div class="kpi-label">Hitos Clave</div>
<div class="kpi-value">10</div>
<div class="kpi-sub">entregables formales</div>
</div>
<div class="kpi">
<div class="kpi-label">Go-Live</div>
<div class="kpi-value">15 Abr</div>
<div class="kpi-sub">puesta en producciÃ³n</div>
</div>
</div>
<!-- ADMIN BAR -->
<div class="admin-bar">
<div class="admin-status locked" id="adminStatus">
<span>ğŸ”’</span> Modo lectura
    </div>
<button class="admin-btn" id="exportBtn" onclick="exportPDF()">Exportar PDF</button><button class="admin-btn" id="adminBtn" onclick="toggleAdmin()">Acceso Administrador</button>
</div>
<!-- GANTT -->
<div class="gantt-wrapper">
<div class="gantt-col-header">
<div class="gh-label">Hito / Actividad</div>
<div class="gh-label">Inicio</div>
<div class="gh-label">Cierre</div>
<div class="month-blocks">
<div class="month-block">Febrero</div>
<div class="month-block">Marzo</div>
<div class="month-block">Abril</div>
</div>
</div>
<!-- FASE 1 -->
<div class="phase-row" style="background:rgba(59,108,183,0.04);">
<span class="phase-title">â€” Fase 1: AnÃ¡lisis y DiseÃ±o Funcional</span>
</div>
<div class="gantt-row">
<div><div class="task-name">ğŸš€ Kick-off del Proyecto</div><div class="task-desc">Inicio formal, requerimiento en TD</div></div>
<div class="task-date">19 Feb</div>
<div class="task-date">19 Feb</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-1" onclick="editBar(1)" style="left:0%;width:8%;">
<div class="bar-inner" id="inner-1" style="background:linear-gradient(90deg,#3b6cb7,#5c8de0);"><span class="bar-pct-label" id="lbl-1"></span></div>
</div>
<div class="bar-milestone" style="background:#3b6cb7; left:calc(8% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<div class="gantt-row">
<div><div class="task-name">ğŸ“‹ Requerimientos Definidos</div><div class="task-desc">ValidaciÃ³n de procesos y alcance</div></div>
<div class="task-date">19 Feb</div>
<div class="task-date">25 Feb</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-2" onclick="editBar(2)" style="left:0%;width:10.17%;">
<div class="bar-inner" id="inner-2" style="background:linear-gradient(90deg,#3b6cb7,#5c8de0);"><span class="bar-pct-label" id="lbl-2"></span></div>
</div>
<div class="bar-milestone" style="background:#5c8de0; left:calc(10.17% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<div class="gantt-row">
<div><div class="task-name">âœ… Cierre Fase 1</div><div class="task-desc">AprobaciÃ³n del diseÃ±o funcional</div></div>
<div class="task-date">25 Feb</div>
<div class="task-date">4 Mar</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-3" onclick="editBar(3)" style="left:10.17%;width:11.86%;">
<div class="bar-inner" id="inner-3" style="background:linear-gradient(90deg,#1a8c84,#3dd6c8);"><span class="bar-pct-label" id="lbl-3"></span></div>
</div>
<div class="bar-milestone" style="background:#3dd6c8; left:calc(22.03% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<!-- FASE 2 -->
<div class="phase-row" style="background:rgba(124,92,196,0.04); border-top:1px solid rgba(0,0,0,0.05);">
<span class="phase-title">â€” Fase 2: DiseÃ±o TÃ©cnico y Prototipado</span>
</div>
<div class="gantt-row">
<div><div class="task-name">ğŸ¨ Prototipo UI/UX</div><div class="task-desc">ValidaciÃ³n del diseÃ±o con usuarios</div></div>
<div class="task-date">4 Mar</div>
<div class="task-date">10 Mar</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-4" onclick="editBar(4)" style="left:22.03%;width:10.17%;">
<div class="bar-inner" id="inner-4" style="background:linear-gradient(90deg,#7c5cc4,#a07de0);"><span class="bar-pct-label" id="lbl-4"></span></div>
</div>
<div class="bar-milestone" style="background:#a07de0; left:calc(32.2% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<div class="gantt-row">
<div><div class="task-name">âœ… Cierre Fase 2</div><div class="task-desc">AprobaciÃ³n del diseÃ±o tÃ©cnico</div></div>
<div class="task-date">10 Mar</div>
<div class="task-date">14 Mar</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-5" onclick="editBar(5)" style="left:32.2%;width:6.78%;">
<div class="bar-inner" id="inner-5" style="background:linear-gradient(90deg,#1a8c84,#3dd6c8);"><span class="bar-pct-label" id="lbl-5"></span></div>
</div>
<div class="bar-milestone" style="background:#3dd6c8; left:calc(38.98% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<!-- FASE 3 -->
<div class="phase-row" style="background:rgba(224,124,42,0.04); border-top:1px solid rgba(0,0,0,0.05);">
<span class="phase-title">â€” Fase 3: Desarrollo y Pruebas</span>
</div>
<div class="gantt-row">
<div><div class="task-name">ğŸ”§ VersiÃ³n Beta</div><div class="task-desc">Primera versiÃ³n lista para pruebas</div></div>
<div class="task-date">14 Mar</div>
<div class="task-date">22 Mar</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-6" onclick="editBar(6)" style="left:38.98%;width:13.56%;">
<div class="bar-inner" id="inner-6" style="background:linear-gradient(90deg,#e07c2a,#f0a060);"><span class="bar-pct-label" id="lbl-6"></span></div>
</div>
<div class="bar-milestone" style="background:#f0a060; left:calc(52.54% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<div class="gantt-row">
<div><div class="task-name">ğŸ§ª UAT Aprobado</div><div class="task-desc">ValidaciÃ³n final por parte de usuarios</div></div>
<div class="task-date">22 Mar</div>
<div class="task-date">4 Abr</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-7" onclick="editBar(7)" style="left:52.54%;width:22.03%;">
<div class="bar-inner" id="inner-7" style="background:linear-gradient(90deg,#e07c2a,#f0a060);"><span class="bar-pct-label" id="lbl-7"></span></div>
</div>
<div class="bar-milestone" style="background:#f0a060; left:calc(74.57% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<!-- FASE 4 -->
<div class="phase-row" style="background:rgba(184,144,46,0.05); border-top:1px solid rgba(0,0,0,0.05);">
<span class="phase-title">â€” Fase 4: CapacitaciÃ³n y Despliegue</span>
</div>
<div class="gantt-row">
<div><div class="task-name">ğŸ“ CapacitaciÃ³n Completa</div><div class="task-desc">Equipos entrenados para operar</div></div>
<div class="task-date">4 Abr</div>
<div class="task-date">10 Abr</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-8" onclick="editBar(8)" style="left:74.57%;width:10.17%;">
<div class="bar-inner" id="inner-8" style="background:linear-gradient(90deg,#b8902e,#e8c97a);"><span class="bar-pct-label" id="lbl-8"></span></div>
</div>
<div class="bar-milestone" style="background:#e8c97a; left:calc(84.74% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<div class="gantt-row">
<div><div class="task-name">âš¡ Go-Live</div><div class="task-desc">Puesta en producciÃ³n del sistema</div></div>
<div class="task-date">10 Abr</div>
<div class="task-date">15 Abr</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-9" onclick="editBar(9)" style="left:84.74%;width:8.47%;">
<div class="bar-inner" id="inner-9" style="background:linear-gradient(90deg,#b8902e,#e8c97a);"><span class="bar-pct-label" id="lbl-9"></span></div>
</div>
<div class="bar-milestone" style="background:#c9a84c; left:calc(93.21% - 6px); top:calc(50% - 6px);"></div>
</div>
</div>
<div class="gantt-row" style="background:rgba(0,32,96,0.025);">
<div><div class="task-name" style="color:#002060;font-weight:700;">ğŸ Cierre del Proyecto</div><div class="task-desc">Entrega formal y documentaciÃ³n final</div></div>
<div class="task-date">15 Abr</div>
<div class="task-date">19 Abr</div>
<div class="bar-area">
<div class="grid-lines"><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div><div class="grid-line"></div></div>
<div class="bar-outer" id="outer-10" onclick="editBar(10)" style="left:93.21%;width:6.5%;">
<div class="bar-inner" id="inner-10" style="background:linear-gradient(90deg,#002060,#3b6cb7);"><span class="bar-pct-label" id="lbl-10"></span></div>
</div>
<div class="bar-milestone" style="background:#002060; left:calc(99.4% - 6px); top:calc(50% - 6px); box-shadow:0 0 8px rgba(0,32,96,0.5);"></div>
</div>
</div>
</div><!-- /gantt-wrapper -->
<!-- LEGEND -->
<div class="legend">
<span class="legend-title">Referencias:</span>
<div class="legend-item"><div class="legend-dot" style="background:linear-gradient(90deg,#3b6cb7,#5c8de0);"></div>AnÃ¡lisis</div>
<div class="legend-item"><div class="legend-dot" style="background:linear-gradient(90deg,#7c5cc4,#a07de0);"></div>DiseÃ±o</div>
<div class="legend-item"><div class="legend-dot" style="background:linear-gradient(90deg,#e07c2a,#f0a060);"></div>Desarrollo</div>
<div class="legend-item"><div class="legend-dot" style="background:linear-gradient(90deg,#b8902e,#e8c97a);"></div>Despliegue</div>
<div class="legend-item"><div class="legend-diamond" style="background:#3dd6c8;"></div>Cierre de Fase</div>
<div class="legend-item"><div class="legend-diamond" style="background:#002060;"></div>Hito CrÃ­tico</div>
<div class="legend-item" style="margin-left:auto; font-size:10.5px; color:#718096; font-style:italic; display:flex; align-items:center; gap:5px;">
<span>ğŸ”’</span> Clic en <strong style="color:#002060;">Â Acceso AdministradorÂ </strong> para actualizar avance
    </div>
</div>
<!-- MILESTONES TABLE -->
<div>
<h2 class="section-title">Resumen de Hitos</h2>
<div style="background:var(--card); border:1px solid var(--border); border-radius:10px; overflow:hidden; box-shadow:0 2px 10px rgba(0,0,0,0.05);">
<table class="milestones-table">
<thead>
<tr>
<th style="width:60px;">#</th>
<th>Hito</th>
<th>Fecha</th>
<th>DescripciÃ³n</th>
<th>Tipo</th>
</tr>
</thead>
<tbody>
<tr><td class="td-fecha">M-01</td><td class="td-hito">Kick-off</td><td class="td-fecha">19 Feb 2026</td><td>Inicio formal del proyecto</td><td><span class="badge badge-inicio">Inicio</span></td></tr>
<tr><td class="td-fecha">M-02</td><td class="td-hito">Requerimientos Definidos</td><td class="td-fecha">25 Feb 2026</td><td>ValidaciÃ³n de procesos y alcance</td><td><span class="badge badge-validacion">ValidaciÃ³n</span></td></tr>
<tr><td class="td-fecha">M-03</td><td class="td-hito">Cierre Fase 1</td><td class="td-fecha">4 Mar 2026</td><td>AprobaciÃ³n del diseÃ±o funcional</td><td><span class="badge badge-cierre">Cierre Fase</span></td></tr>
<tr><td class="td-fecha">M-04</td><td class="td-hito">Prototipo UI/UX</td><td class="td-fecha">10 Mar 2026</td><td>ValidaciÃ³n del diseÃ±o con usuarios</td><td><span class="badge badge-validacion">ValidaciÃ³n</span></td></tr>
<tr><td class="td-fecha">M-05</td><td class="td-hito">Cierre Fase 2</td><td class="td-fecha">14 Mar 2026</td><td>AprobaciÃ³n del diseÃ±o tÃ©cnico</td><td><span class="badge badge-cierre">Cierre Fase</span></td></tr>
<tr><td class="td-fecha">M-06</td><td class="td-hito">VersiÃ³n Beta</td><td class="td-fecha">22 Mar 2026</td><td>Primera versiÃ³n lista para pruebas</td><td><span class="badge badge-entrega">Entregable</span></td></tr>
<tr><td class="td-fecha">M-07</td><td class="td-hito">UAT Aprobado</td><td class="td-fecha">4 Abr 2026</td><td>ValidaciÃ³n final por parte de usuarios</td><td><span class="badge badge-validacion">ValidaciÃ³n</span></td></tr>
<tr><td class="td-fecha">M-08</td><td class="td-hito">CapacitaciÃ³n Completa</td><td class="td-fecha">10 Abr 2026</td><td>Equipos entrenados para operar</td><td><span class="badge badge-entrega">Entregable</span></td></tr>
<tr><td class="td-fecha">M-09</td><td class="td-hito">âš¡ Go-Live</td><td class="td-fecha">15 Abr 2026</td><td>Puesta en producciÃ³n del sistema</td><td><span class="badge badge-inicio">CrÃ­tico</span></td></tr>
<tr><td class="td-fecha">M-10</td><td class="td-hito">ğŸ Cierre del Proyecto</td><td class="td-fecha">19 Abr 2026</td><td>Entrega formal y documentaciÃ³n final</td><td><span class="badge badge-cierre">Cierre Formal</span></td></tr>
</tbody>
</table>
</div>
</div>
<!-- FOOTER -->
<footer>
<div class="footer-note">Plan de Proyecto v1.0 Â Â·Â  Preparado para Alta Gerencia Â Â·Â  Febrero 2026</div>
<div class="confidential">Confidencial</div>
</footer>
</div>
<!-- â”€â”€ LOGIN MODAL â”€â”€ -->
<div class="modal-overlay" id="loginModal">
<div class="modal">
<h3>ğŸ” Acceso Administrador</h3>
<p>Ingrese la contraseÃ±a para habilitar la ediciÃ³n del porcentaje de cumplimiento en cada barra.</p>
<input id="pwdInput" onkeydown="if(event.key==='Enter') doLogin()" placeholder="ContraseÃ±a" type="password"/>
<div class="modal-error" id="loginError"></div>
<div class="modal-actions">
<button class="btn-cancel" onclick="closeLogin()">Cancelar</button>
<button class="btn-confirm" onclick="doLogin()">Ingresar</button>
</div>
</div>
</div>
<!-- â”€â”€ EDIT MODAL â”€â”€ -->
<div class="modal-overlay" id="editModal">
<div class="modal">
<h3 id="editTitle">Actualizar avance</h3>
<p>Ajusta el porcentaje de cumplimiento para este hito.</p>
<div class="pct-display" id="pctDisplay">0%</div>
<input id="pctRange" max="100" min="0" oninput="syncSlider(this.value)" type="range" value="0"/>
<input id="pctNumber" max="100" min="0" oninput="syncNumber(this.value)" placeholder="0â€“100" type="number" value="0"/>
<div class="modal-actions">
<button class="btn-cancel" onclick="closeEdit()">Cancelar</button>
<button class="btn-confirm" onclick="saveEdit()">Guardar</button>
</div>
</div>
</div>
<style>
  .toast {
    position: fixed;
    bottom: 28px;
    right: 28px;
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    font-weight: 600;
    padding: 10px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 18px rgba(0,0,0,0.18);
    z-index: 999;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.3s, transform 0.3s;
    pointer-events: none;
    color: #fff;
  }
  .toast.show { opacity: 1; transform: translateY(0); }
  .toast.ok    { background: #1a8c84; }
  .toast.error { background: #e53e3e; }
</style>
<div class="toast" id="toast"></div>
<script>
  const ADMIN_PWD  = 'admin2026';
  const SKEY       = 'gantt:progress';
  let isAdmin      = false;
  let editingId    = null;
  const progress   = {1:100,2:60,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0};

  const taskNames  = {
    1:'Kick-off del Proyecto',    2:'Requerimientos Definidos',
    3:'Cierre Fase 1',            4:'Prototipo UI/UX',
    5:'Cierre Fase 2',            6:'VersiÃ³n Beta',
    7:'UAT Aprobado',             8:'CapacitaciÃ³n Completa',
    9:'Go-Live',                  10:'Cierre del Proyecto'
  };

  // â”€â”€ Toast â”€â”€
  let _tt;
  function toast(msg, type = 'ok') {
    const el = document.getElementById('toast');
    el.textContent = msg;
    el.className   = 'toast ' + type;
    clearTimeout(_tt);
    requestAnimationFrame(() => {
      el.classList.add('show');
      _tt = setTimeout(() => el.classList.remove('show'), 3000);
    });
  }

  // â”€â”€ Render â”€â”€
  function render() {
    for (let i = 1; i <= 10; i++) {
      const pct   = progress[i];
      document.getElementById('inner-' + i).style.width = pct + '%';
      document.getElementById('lbl-'   + i).textContent = pct > 0 ? pct + '%' : '';
      document.getElementById('outer-' + i).classList.toggle('admin-mode', isAdmin);
    }
  }

  // â”€â”€ Persist: save â”€â”€
  async function persist() {
    try {
      await window.storage.set(SKEY, JSON.stringify(progress));
      toast('âœ… Guardado correctamente');
    } catch(e) {
      toast('âš ï¸ Error al guardar: ' + e.message, 'error');
    }
  }

  // â”€â”€ Persist: load â”€â”€
  async function restore() {
    try {
      const r = await window.storage.get(SKEY);
      if (r && r.value) {
        const saved = JSON.parse(r.value);
        for (let i = 1; i <= 10; i++) {
          if (typeof saved[i] === 'number') progress[i] = saved[i];
        }
      }
    } catch(e) {
      // Key doesn't exist yet â€” start at 0, no problem
    }
    render();
  }

  // â”€â”€ Admin toggle â”€â”€
  function toggleAdmin() {
    if (isAdmin) {
      isAdmin = false;
      document.getElementById('adminStatus').className = 'admin-status locked';
      document.getElementById('adminStatus').innerHTML = '<span>ğŸ”’</span> Modo lectura';
      document.getElementById('adminBtn').textContent  = 'Acceso Administrador';
      document.getElementById('adminBtn').classList.remove('logout');
      render();
    } else {
      document.getElementById('loginError').textContent = '';
      document.getElementById('pwdInput').value = '';
      document.getElementById('loginModal').classList.add('show');
      setTimeout(() => document.getElementById('pwdInput').focus(), 100);
    }
  }

  function doLogin() {
    if (document.getElementById('pwdInput').value === ADMIN_PWD) {
      isAdmin = true;
      document.getElementById('loginModal').classList.remove('show');
      document.getElementById('adminStatus').className = 'admin-status unlocked';
      document.getElementById('adminStatus').innerHTML = '<span>âœ…</span> Modo administrador activo';
      document.getElementById('adminBtn').textContent  = 'Cerrar sesiÃ³n';
      document.getElementById('adminBtn').classList.add('logout');
      render();
    } else {
      document.getElementById('loginError').textContent = 'âš ï¸ ContraseÃ±a incorrecta.';
      document.getElementById('pwdInput').select();
    }
  }

  function closeLogin() { document.getElementById('loginModal').classList.remove('show'); }

  // â”€â”€ Edit modal â”€â”€
  function editBar(id) {
    if (!isAdmin) return;
    editingId = id;
    const pct = progress[id];
    document.getElementById('editTitle').textContent   = 'ğŸ“Š ' + taskNames[id];
    document.getElementById('pctRange').value          = pct;
    document.getElementById('pctNumber').value         = pct;
    document.getElementById('pctDisplay').textContent  = pct + '%';
    document.getElementById('editModal').classList.add('show');
    setTimeout(() => document.getElementById('pctRange').focus(), 80);
  }

  function syncSlider(v) {
    v = Math.min(100, Math.max(0, parseInt(v) || 0));
    document.getElementById('pctNumber').value        = v;
    document.getElementById('pctDisplay').textContent = v + '%';
  }

  function syncNumber(v) {
    v = Math.min(100, Math.max(0, parseInt(v) || 0));
    document.getElementById('pctRange').value         = v;
    document.getElementById('pctDisplay').textContent = v + '%';
  }

  async function saveEdit() {
    const v = Math.min(100, Math.max(0, parseInt(document.getElementById('pctNumber').value) || 0));
    progress[editingId] = v;
    render();
    closeEdit();
    await persist();
  }

  function closeEdit() {
    document.getElementById('editModal').classList.remove('show');
    editingId = null;
  }

  document.getElementById('loginModal').addEventListener('click', e => { if (e.target === e.currentTarget) closeLogin(); });
  document.getElementById('editModal').addEventListener('click',  e => { if (e.target === e.currentTarget) closeEdit(); });

  // Boot
  restore();
</script>
<script>
function exportPDF(){
  // Ensure modals closed and admin toast hidden before print
  try { document.getElementById('loginModal').classList.remove('show'); } catch(e){}
  try { document.getElementById('editModal').classList.remove('show'); } catch(e){}
  setTimeout(()=>window.print(), 100);
}
</script></body>
</html>
